<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Historial – Dashboard</title>
<style>
  :root{
    --bg:#0c0d0f;
    --panel:#111216;
    --panel-2:#121319;
    --chip:#181a20;
    --muted:#8f98a3;
    --text:#e9edf2;
    --accent:#18c266;
    --accent-2:#0e8a47;
    --ring:#2a2d36;
    --shadow:0 12px 24px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.02);
    --radius:20px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    color:var(--text);
    background:
      radial-gradient(1200px 600px at 60% -10%, #0b1a12 0%, transparent 60%) ,
      radial-gradient(900px 500px at -10% 10%, #0b0f20 0%, transparent 55%),
      var(--bg);
  }

  .wrap{
    max-width:1080px;
    margin:24px auto 80px;
    padding:0 14px;
  }

  /* Top segmented tabs */
  .segmented{
    display:flex;
    gap:16px;
    align-items:center;
    margin:8px 0 22px;
  }
  .segmented .group{
    display:flex;
    gap:10px;
    background:var(--panel);
    border:1px solid var(--ring);
    border-radius:40px;
    padding:6px;
    box-shadow:var(--shadow);
  }
  .segmented button{
    appearance:none;
    border:0;
    padding:12px 18px;
    border-radius:28px;
    color:var(--muted);
    background:transparent;
    font-weight:600;
    letter-spacing:.2px;
    cursor:pointer;
  }
  .segmented button.active{
    background:#0f1116;
    color:var(--text);
    box-shadow:inset 0 0 0 1px #232733, 0 6px 14px rgba(0,0,0,.35);
  }

  /* Filter chips + stake input */
  .toolbar{
    display:flex;
    flex-wrap:wrap;
    gap:14px;
    align-items:center;
    margin:0 0 18px;
  }
  .chip{
    background:var(--chip);
    border:1px solid #242833;
    color:var(--text);
    padding:10px 16px;
    height:44px;
    border-radius:26px;
    display:inline-flex; align-items:center; gap:10px;
    cursor:pointer;
    user-select:none;
    box-shadow:var(--shadow);
  }
  .chip[data-active="true"]{
    outline:2px solid #2e343f;
    background:#0e1117;
  }

  .stake{
    margin-left:auto;
    display:flex; align-items:center;
    gap:10px;
  }
  .stake .field{
    position:relative;
    background:var(--chip);
    border:1px solid #242833;
    border-radius:26px;
    height:44px; display:flex; align-items:center;
    padding:0 14px 0 14px; gap:8px;
    box-shadow:var(--shadow);
  }
  .stake label{
    font-size:12px; color:var(--muted); margin-right:6px;
  }
  .stake input{
    width:86px;
    border:0; outline:0;
    background:transparent; color:var(--text);
    font-weight:700; font-size:16px; letter-spacing:.3px;
  }
  .stake .suffix{opacity:.75}

  /* Chart card */
  .card{
    background:linear-gradient(180deg, #0e1015 0%, #0b0c10 100%);
    border:1px solid var(--ring);
    border-radius:var(--radius);
    padding:14px;
    box-shadow:var(--shadow);
    overflow:hidden;
  }
  .chart{
    height:320px; width:100%;
    border-radius:14px;
    background: #050607;
    position:relative;
    border:1px solid #1c1f28;
  }
  .chart canvas{
    position:absolute; inset:0; width:100%; height:100%;
  }

  /* Stats grid */
  .grid{
    display:grid;
    grid-template-columns: repeat(12, 1fr);
    gap:16px;
    margin-top:18px;
  }
  .stat{
    grid-column: span 4;
    background:var(--panel-2);
    border:1px solid var(--ring);
    border-radius:18px;
    padding:18px 16px;
    box-shadow:var(--shadow);
  }
  .stat h4{
    margin:0 0 12px; font-size:13px; color:var(--muted); font-weight:600;
  }
  .stat .val{
    font-size:24px; font-weight:800; letter-spacing:.4px;
  }
  .stat .positive{ color:var(--accent) }
  .stat .roi{ color:var(--accent) }

  /* Responsive */
  @media (max-width:900px){
    .stat{grid-column: span 6}
    .stake{margin-left:0; width:100%; justify-content:flex-start}
  }
  @media (max-width:560px){
    .segmented{flex-wrap:wrap}
    .segmented .group{width:100%; justify-content:space-between}
    .stat{grid-column: span 12}
  }
</style>
</head>
<body>
  <div class="wrap">
    <!-- top segmented control -->
    <div class="segmented" role="tablist" aria-label="Secciones">
      <div class="group">
        <button class="active" role="tab" aria-selected="true">Historial</button>
        <button role="tab" aria-selected="false">Beneficio</button>
      </div>
    </div>

    <!-- toolbar: chips + stake -->
    <div class="toolbar">
      <div class="chip" data-range="7" data-active="true">7 días</div>
      <div class="chip" data-range="14">14 días</div>
      <div class="chip" data-range="30">30 días</div>
      <div class="chip" data-range="all">Todos</div>

      <div class="stake">
        <div class="field">
          <label for="stake">Importe de la apuesta</label>
          <input id="stake" type="number" min="1" value="100" />
          <span class="suffix">$</span>
        </div>
      </div>
    </div>

    <!-- chart -->
    <div class="card">
      <div class="chart">
        <canvas id="areaChart"></canvas>
      </div>
    </div>

    <!-- stats -->
    <div class="grid" id="stats">
      <div class="stat"><h4>Apuestas con cuotas</h4><div class="val" id="bets">48</div></div>
      <div class="stat"><h4>Apuestas ganadoras</h4><div class="val" id="wins">29</div></div>
      <div class="stat"><h4>Apuestas perdedoras</h4><div class="val" id="losses">19</div></div>

      <div class="stat"><h4>Cuota media</h4><div class="val" id="avgOdd">2.38</div></div>
      <div class="stat"><h4>Cuota media para las alertas ganadoras</h4><div class="val" id="avgWinOdd">2.31</div></div>
      <div class="stat"><h4>Importe jugado</h4><div class="val" id="staked">4800.00 $</div></div>

      <div class="stat"><h4>Importe de las ganancias</h4><div class="val" id="gross">6699.00 $</div></div>
      <div class="stat"><h4>ROI</h4><div class="val roi" id="roi">39.56 %</div></div>
      <div class="stat"><h4>Beneficio/pérdida neta</h4><div class="val positive" id="net">1899.00 $</div></div>
    </div>
  </div>

<script>
  // --- Datos de ejemplo (similares a tu captura) ---
  // Cumulative net profit points
  const baseSeries = [0, 420, 1600, 1150, 1260, 1310, 1320, 1900];

  // --- Canvas area chart sin librerías ---
  const canvas = document.getElementById('areaChart');
  const ctx = canvas.getContext('2d');
  let dpr = window.devicePixelRatio || 1;

  function resizeCanvas(){
    const rect = canvas.parentElement.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    canvas.style.width = rect.width + 'px';
    canvas.style.height = rect.height + 'px';
  }

  function drawGrid(maxY){
    const w = canvas.width, h = canvas.height;
    ctx.save();
    ctx.scale(dpr, dpr);
    const steps = 5;
    ctx.lineWidth = 1;
    ctx.strokeStyle = '#1c1f28';
    ctx.font = '10px ui-sans-serif, system-ui';
    ctx.fillStyle = '#6b7380';
    for(let i=0;i<=steps;i++){
      const y = (canvas.height/dpr) - (i/steps)*(canvas.height/dpr);
      ctx.beginPath();
      ctx.moveTo(0, y);
      ctx.lineTo((canvas.width/dpr), y);
      ctx.stroke();
      const value = Math.round((i/steps)*maxY);
      if(i>0){ ctx.fillText(value.toLocaleString('es-MX'), 6, y-4); }
    }
    ctx.restore();
  }

  function drawArea(series){
    resizeCanvas();
    const w = canvas.width / dpr;
    const h = canvas.height / dpr;

    const maxY = Math.max(2000, ...series) * 1.05;
    const minY = Math.min(0, ...series);

    // grid & axes
    drawGrid(2000);

    // map function
    const xStep = w / (series.length - 1);
    const mapY = v => h - ( (v - minY) / (maxY - minY) ) * h;

    // gradient fill (verde oscuro)
    const grad = ctx.createLinearGradient(0, 0, 0, h*dpr);
    grad.addColorStop(0, 'rgba(24,194,102,.45)');
    grad.addColorStop(.7, 'rgba(24,194,102,.12)');
    grad.addColorStop(1, 'rgba(24,194,102,0)');

    ctx.save();
    ctx.scale(dpr, dpr);

    // area
    ctx.beginPath();
    ctx.moveTo(0, mapY(series[0]));
    series.forEach((v,i)=> ctx.lineTo(i*xStep, mapY(v)));
    ctx.lineTo(w, h);
    ctx.lineTo(0, h);
    ctx.closePath();
    ctx.fillStyle = grad;
    ctx.fill();

    // stroke line
    ctx.beginPath();
    ctx.moveTo(0, mapY(series[0]));
    series.forEach((v,i)=> ctx.lineTo(i*xStep, mapY(v)));
    ctx.lineWidth = 3;
    ctx.strokeStyle = '#0f9e53';
    ctx.stroke();

    ctx.restore();
  }

  drawArea(baseSeries);
  window.addEventListener('resize', () => drawArea(baseSeries));

  // --- Interacciones visuales de chips (demo sin cambiar datos) ---
  document.querySelectorAll('.chip').forEach(chip=>{
    chip.addEventListener('click', ()=>{
      document.querySelectorAll('.chip').forEach(c=>c.dataset.active="false");
      chip.dataset.active = "true";
      // Aquí podrías cargar otra serie según el rango seleccionado
      // drawArea(otraSerie);
    });
  });

  // Stake: recalcula métricas de ejemplo en base al importe
  const stakeInput = document.getElementById('stake');
  stakeInput.addEventListener('input', ()=>{
    const stakeVal = Math.max(1, Number(stakeInput.value || 1));
    // Tomamos las cifras de tu captura y las escalamos linealmente
    const factor = stakeVal / 100; // en tu imagen el stake es 100
    const staked = 4800 * factor;
    const gross = 6699 * factor;
    const net = gross - staked;
    const roi = net / staked * 100;

    document.getElementById('staked').textContent = staked.toFixed(2) + ' $';
    document.getElementById('gross').textContent = gross.toFixed(2) + ' $';
    document.getElementById('net').textContent = net.toFixed(2) + ' $';
    document.getElementById('roi').textContent = roi.toFixed(2) + ' %';

    // escala vertical aproximada de la gráfica
    const scaled = baseSeries.map(v=> v * factor);
    drawArea(scaled);
  });
</script>
</body>
</html>