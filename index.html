<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Estad√≠sticas de Partidos</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #0d1117;
    color: #e6edf3;
    margin: 0;
    padding: 20px;
  }
  select {
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #30363d;
    margin: 5px 0;
    width: 100%;
    background: #161b22;
    color: #e6edf3;
  }
  .card {
    border: 2px solid #30363d;
    border-radius: 10px;
    padding: 15px;
    margin-top: 15px;
    background: #161b22;
  }
  .highlight {
    color: #58a6ff;
    font-weight: bold;
  }
  .stat {
    display: flex;
    justify-content: space-between;
    margin: 4px 0;
  }
  .green {color:#2ea043;}
  .red {color:#f85149;}
  .yellow {color:#d29922;}
</style>
</head>
<body>

<h2>üìä Estad√≠sticas de Partidos</h2>

<!-- Selectores -->
<select id="leagueSelect"></select>
<select id="homeSelect"></select>
<select id="awaySelect"></select>

<div id="stats" class="card"></div>

<script>
// JSON de ejemplo
const data = [
  {"League":"Bosnia and Herzegovina Premier Liga","Match":"Tuzla City - Sarajevo","Result FT":"1-2"},
  {"League":"Italy Serie A","Match":"Torino - Cagliari","Result FT":"0-0"},
  {"League":"Denmark Superliga","Match":"Viborg FF - Vejle Boldklub","Result FT":"2-1"}
];

// Obtener ligas √∫nicas
const leagues = [...new Set(data.map(m => m.League))];
const leagueSelect = document.getElementById('leagueSelect');
const homeSelect = document.getElementById('homeSelect');
const awaySelect = document.getElementById('awaySelect');
const statsDiv = document.getElementById('stats');

// Rellenar ligas
leagues.forEach(l => {
  let opt = document.createElement('option');
  opt.value = l; opt.textContent = l;
  leagueSelect.appendChild(opt);
});

leagueSelect.addEventListener('change', () => {
  const league = leagueSelect.value;
  const matches = data.filter(m => m.League === league);
  const teams = [...new Set(matches.flatMap(m => m.Match.split(" - ")))];

  homeSelect.innerHTML = "";
  awaySelect.innerHTML = "";
  teams.forEach(t => {
    let opt1 = document.createElement('option');
    opt1.value = t; opt1.textContent = t;
    homeSelect.appendChild(opt1);

    let opt2 = document.createElement('option');
    opt2.value = t; opt2.textContent = t;
    awaySelect.appendChild(opt2);
  });
});

// Mostrar stats al escoger equipos
[homeSelect, awaySelect].forEach(sel => sel.addEventListener('change', () => {
  const league = leagueSelect.value;
  const home = homeSelect.value;
  const away = awaySelect.value;
  if (!home || !away || home === away) return;

  const matches = data.filter(m => 
    m.League === league && m.Match.includes(home) && m.Match.includes(away)
  );

  if (!matches.length) {
    statsDiv.innerHTML = "<p>No hay partidos disponibles.</p>";
    return;
  }

  let totalGoals = 0, homeGoals=0, awayGoals=0, over25=0, btts=0;
  matches.forEach(m => {
    const [hg, ag] = m["Result FT"].split("-").map(Number);
    totalGoals += hg+ag;
    homeGoals += hg; awayGoals += ag;
    if (hg+ag > 2.5) over25++;
    if (hg>0 && ag>0) btts++;
  });

  const games = matches.length;
  statsDiv.innerHTML = `
    <div class="stat"><span>‚öΩ Promedio goles totales</span><span class="highlight">${(totalGoals/games).toFixed(2)}</span></div>
    <div class="stat"><span>üè† Promedio goles ${home}</span><span class="highlight">${(homeGoals/games).toFixed(2)}</span></div>
    <div class="stat"><span>üöÄ Promedio goles ${away}</span><span class="highlight">${(awayGoals/games).toFixed(2)}</span></div>
    <div class="stat"><span>üî• Over 2.5</span><span class="${(over25/games*100)>=50?'green':'red'}">${(over25/games*100).toFixed(0)}%</span></div>
    <div class="stat"><span>ü§ù BTTS</span><span class="${(btts/games*100)>=50?'green':'red'}">${(btts/games*100).toFixed(0)}%</span></div>
  `;
}));
</script>

</body>
</html>