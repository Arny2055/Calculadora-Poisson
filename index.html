<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Valor BetAGS - 4 Mercados</title>
    <style>
        :root {
            --fondo: #006341;
            --card-bg: #004d32;
            --texto-blanco: #ffffff;
            --texto-amarillo: #ffdf1b;
            --input-bg: #003623;
            --positivo: #44ff44;
            --negativo: #ff4444;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--fondo);
            color: var(--texto-blanco);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 900px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: var(--texto-amarillo);
            font-size: 1.8rem;
            margin: 0;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
        }

        @media (max-width: 500px) {
            .grid { grid-template-columns: 1fr; }
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 223, 27, 0.2);
            box-shadow: 0 6px 15px rgba(0,0,0,0.4);
        }

        .card h2 {
            margin-top: 0;
            color: var(--texto-amarillo);
            font-size: 1.2rem;
            text-align: center;
            border-bottom: 1px solid var(--input-bg);
            padding-bottom: 10px;
        }

        .input-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .full-width { grid-column: span 2; }

        label {
            display: block;
            font-size: 0.8rem;
            color: #bdc3c7;
            margin-bottom: 5px;
        }

        input {
            width: 100%;
            padding: 12px;
            background-color: var(--input-bg);
            border: 1px solid #002b1c;
            color: white;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 1rem;
            font-weight: bold;
        }

        input:focus {
            border-color: var(--texto-amarillo);
            outline: none;
        }

        .results {
            background-color: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .edge-box {
            font-size: 1.4rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .recommendation {
            font-weight: bold;
            padding: 8px;
            border-radius: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: inline-block;
            width: 90%;
        }

        .status-bet { background-color: #1b5e20; color: #44ff44; border: 1px solid #44ff44; }
        .status-no { background-color: #b71c1c; color: #ff8a80; border: 1px solid #ff8a80; }

        .overround-text {
            font-size: 0.75rem;
            color: #888;
            margin-top: 10px;
        }

        footer {
            margin-top: 40px;
            color: var(--texto-amarillo);
            font-weight: bold;
            opacity: 0.7;
        }
    </style>
</head>
<body>

    <header>
        <h1>BETAGS ANALYTICS</h1>
        <p>Calculadora de Ventaja (Edge) por Mercado</p>
    </header>

    <div class="container">
        <div class="grid">
            
            <div class="card">
                <h2>APOSTAR AL OVER (Más Goles)</h2>
                <div class="input-group">
                    <div>
                        <label>Cuota Over</label>
                        <input type="number" id="oddsOver" step="0.01" placeholder="1.95" oninput="calcOver()">
                    </div>
                    <div>
                        <label>Cuota Under (Contra)</label>
                        <input type="number" id="oddsUnderC" step="0.01" placeholder="1.85" oninput="calcOver()">
                    </div>
                    <div class="full-width">
                        <label>Tu Probabilidad Real para el OVER (%)</label>
                        <input type="number" id="probOver" step="0.1" placeholder="60" oninput="calcOver()">
                    </div>
                </div>
                <div class="results">
                    <div id="recOver" class="recommendation status-no">Esperando datos...</div>
                    <div class="edge-box">Edge: <span id="edgeOver">0.00%</span></div>
                    <div class="overround-text">Overround de la casa: <span id="ovrOver">0.00%</span></div>
                </div>
            </div>

            <div class="card">
                <h2>APOSTAR AL UNDER (Menos Goles)</h2>
                <div class="input-group">
                    <div>
                        <label>Cuota Under</label>
                        <input type="number" id="oddsUnder" step="0.01" placeholder="2.10" oninput="calcUnder()">
                    </div>
                    <div>
                        <label>Cuota Over (Contra)</label>
                        <input type="number" id="oddsOverC" step="0.01" placeholder="1.70" oninput="calcUnder()">
                    </div>
                    <div class="full-width">
                        <label>Tu Probabilidad Real para el UNDER (%)</label>
                        <input type="number" id="probUnder" step="0.1" placeholder="50" oninput="calcUnder()">
                    </div>
                </div>
                <div class="results">
                    <div id="recUnder" class="recommendation status-no">Esperando datos...</div>
                    <div class="edge-box">Edge: <span id="edgeUnder">0.00%</span></div>
                    <div class="overround-text">Overround de la casa: <span id="ovrUnder">0.00%</span></div>
                </div>
            </div>

            <div class="card">
                <h2>APOSTAR AL BTTS: SÍ</h2>
                <div class="input-group">
                    <div>
                        <label>Cuota BTTS Sí</label>
                        <input type="number" id="oddsYes" step="0.01" placeholder="1.80" oninput="calcYes()">
                    </div>
                    <div>
                        <label>Cuota BTTS No (Contra)</label>
                        <input type="number" id="oddsNoC" step="0.01" placeholder="2.00" oninput="calcYes()">
                    </div>
                    <div class="full-width">
                        <label>Tu Probabilidad Real BTTS SÍ (%)</label>
                        <input type="number" id="probYes" step="0.1" placeholder="65" oninput="calcYes()">
                    </div>
                </div>
                <div class="results">
                    <div id="recYes" class="recommendation status-no">Esperando datos...</div>
                    <div class="edge-box">Edge: <span id="edgeYes">0.00%</span></div>
                    <div class="overround-text">Overround de la casa: <span id="ovrYes">0.00%</span></div>
                </div>
            </div>

            <div class="card">
                <h2>APOSTAR AL BTTS: NO</h2>
                <div class="input-group">
                    <div>
                        <label>Cuota BTTS No</label>
                        <input type="number" id="oddsNo" step="0.01" placeholder="2.25" oninput="calcNo()">
                    </div>
                    <div>
                        <label>Cuota BTTS Sí (Contra)</label>
                        <input type="number" id="oddsYesC" step="0.01" placeholder="1.60" oninput="calcNo()">
                    </div>
                    <div class="full-width">
                        <label>Tu Probabilidad Real BTTS NO (%)</label>
                        <input type="number" id="probNo" step="0.1" placeholder="45" oninput="calcNo()">
                    </div>
                </div>
                <div class="results">
                    <div id="recNo" class="recommendation status-no">Esperando datos...</div>
                    <div class="edge-box">Edge: <span id="edgeNo">0.00%</span></div>
                    <div class="overround-text">Overround de la casa: <span id="ovrNo">0.00%</span></div>
                </div>
            </div>

        </div>
    </div>

    <footer>AGS - TECNOLOGÍA EN APUESTAS 2026</footer>

    <script>
        function updateUI(idPrefix, edge, overround) {
            const edgeEl = document.getElementById('edge' + idPrefix);
            const ovrEl = document.getElementById('ovr' + idPrefix);
            const recEl = document.getElementById('rec' + idPrefix);

            edgeEl.innerText = edge.toFixed(2) + "%";
            ovrEl.innerText = overround.toFixed(2) + "%";

            if (edge > 0) {
                edgeEl.style.color = "#44ff44";
                recEl.innerText = "✓ APUESTA RENTABLE";
                recEl.className = "recommendation status-bet";
            } else {
                edgeEl.style.color = "#ff4444";
                recEl.innerText = "✗ SIN VALOR (NO APOSTAR)";
                recEl.className = "recommendation status-no";
            }
        }

        function calculateGeneral(cuotaBet, cuotaOpposite, probReal) {
            let overround = 0;
            if (cuotaBet > 0 && cuotaOpposite > 0) {
                overround = ((1/cuotaBet) + (1/cuotaOpposite) - 1) * 100;
            }
            
            let edge = 0;
            if (cuotaBet > 0 && probReal > 0) {
                edge = (cuotaBet * (probReal / 100)) - 1;
            }
            return { edge: edge * 100, overround: overround };
        }

        function calcOver() {
            const res = calculateGeneral(
                parseFloat(document.getElementById('oddsOver').value),
                parseFloat(document.getElementById('oddsUnderC').value),
                parseFloat(document.getElementById('probOver').value)
            );
            updateUI('Over', res.edge, res.overround);
        }

        function calcUnder() {
            const res = calculateGeneral(
                parseFloat(document.getElementById('oddsUnder').value),
                parseFloat(document.getElementById('oddsOverC').value),
                parseFloat(document.getElementById('probUnder').value)
            );
            updateUI('Under', res.edge, res.overround);
        }

        function calcYes() {
            const res = calculateGeneral(
                parseFloat(document.getElementById('oddsYes').value),
                parseFloat(document.getElementById('oddsNoC').value),
                parseFloat(document.getElementById('probYes').value)
            );
            updateUI('Yes', res.edge, res.overround);
        }

        function calcNo() {
            const res = calculateGeneral(
                parseFloat(document.getElementById('oddsNo').value),
                parseFloat(document.getElementById('oddsYesC').value),
                parseFloat(document.getElementById('probNo').value)
            );
            updateUI('No', res.edge, res.overround);
        }
    </script>
</body>
</html>
