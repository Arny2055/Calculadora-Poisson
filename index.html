<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cargar y Procesar Historial de Ligas (CSV)</title>
    <style>
        /* Estilos bÃ¡sicos */
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f4f4f9; color: #333; }
        .container { max-width: 800px; margin: auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }
        h2 { color: #007bff; border-bottom: 2px solid #007bff; padding-bottom: 10px; margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; }
        input[type="file"] { margin-bottom: 20px; }
        #output { 
            margin-top: 20px; 
            padding: 15px; 
            border: 1px solid #ddd; 
            background-color: #e9e9f9; 
            max-height: 400px; 
            overflow: auto;
            white-space: pre-wrap; /* Mantiene el formato del CSV */
            font-family: monospace;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>ðŸ“Š Cargar y Mostrar Historial de Ligas (CSV)</h2>

        <form id="csvForm">
            <label for="csvFile">Selecciona tu archivo CSV (Historial de Ligas):</label>
            <input type="file" id="csvFile" name="historialCSV" accept=".csv" required>
        </form>

        <p>El contenido del archivo se mostrarÃ¡ a continuaciÃ³n (solo las primeras 10 filas):</p>
        
        <div id="output">
            Esperando la carga del archivo CSV...
        </div>
    </div>

    <script>
        // 1. Obtener los elementos clave del DOM
        const csvFile = document.getElementById('csvFile');
        const outputDiv = document.getElementById('output');

        // 2. Escuchar el evento 'change' del input de archivo
        csvFile.addEventListener('change', (event) => {
            // Se ejecuta cuando el usuario selecciona un archivo
            const file = event.target.files[0];

            if (file) {
                // 3. Crear un objeto FileReader
                const reader = new FileReader();

                // 4. Definir quÃ© hacer cuando la lectura del archivo termine
                reader.onload = (e) => {
                    const content = e.target.result; // El contenido del archivo como texto
                    processCSV(content);
                };

                // 5. Iniciar la lectura del archivo como texto
                reader.readAsText(file);
            }
        });

        // 6. FunciÃ³n para procesar y mostrar el contenido
        function processCSV(csvText) {
            // Dividir el texto en lÃ­neas (filas)
            const lines = csvText.split('\n');

            if (lines.length === 0) {
                outputDiv.textContent = 'El archivo CSV estÃ¡ vacÃ­o.';
                return;
            }

            // Tomar solo las primeras 10 lÃ­neas para evitar sobrecargar la vista
            const displayLines = lines.slice(0, 10);
            
            // Reconstruir el texto a mostrar, aÃ±adiendo informaciÃ³n
            let outputContent = "âœ… **Carga Exitosa**\n\n";
            outputContent += "--- Primeras " + displayLines.length + " Filas ---\n";
            outputContent += displayLines.join('\n'); // Unir las lÃ­neas con saltos de lÃ­nea

            // Mostrar el contenido en el div de salida
            outputDiv.textContent = outputContent;
            
            // Si quisieras analizar el CSV mÃ¡s a fondo (ej. como matriz):
            // const dataMatrix = lines.map(line => line.split(','));
            // console.log("Matriz de datos completa:", dataMatrix);
        }

    </script>

</body>
</html>
