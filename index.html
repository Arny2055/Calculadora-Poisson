<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BetAGS - Filtro de Valor Profesional</title>
    <style>
        :root {
            --fondo: #006341;
            --card-bg: #004d32;
            --texto-blanco: #ffffff;
            --texto-amarillo: #ffdf1b;
            --input-bg: #003623;
            --positivo: #44ff44;
            --negativo: #ff4444;
            --btn-clear: #c0392b;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--fondo);
            color: var(--texto-blanco);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 950px;
        }

        header {
            text-align: center;
            margin-bottom: 25px;
        }

        h1 {
            color: var(--texto-amarillo);
            font-size: 1.8rem;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .rules-bar {
            background: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.8rem;
            margin-bottom: 20px;
            border: 1px dashed var(--texto-amarillo);
            text-align: center;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
            gap: 20px;
        }

        @media (max-width: 500px) {
            .grid { grid-template-columns: 1fr; }
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 223, 27, 0.2);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
            position: relative;
        }

        .card h2 {
            margin-top: 0;
            color: var(--texto-amarillo);
            font-size: 1.1rem;
            text-align: left;
            border-bottom: 1px solid var(--input-bg);
            padding-bottom: 10px;
        }

        .input-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 15px;
        }

        .full-width { grid-column: span 2; }

        label {
            display: block;
            font-size: 0.75rem;
            color: #bdc3c7;
            margin-bottom: 4px;
        }

        input {
            width: 100%;
            padding: 10px;
            background-color: var(--input-bg);
            border: 1px solid #002b1c;
            color: white;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 1rem;
            font-weight: bold;
        }

        input:focus { border-color: var(--texto-amarillo); outline: none; }

        .results {
            background-color: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .edge-box { font-size: 1.3rem; font-weight: bold; margin: 8px 0; }
        .ovr-box { font-size: 0.9rem; margin-bottom: 10px; }

        .recommendation {
            font-weight: bold;
            padding: 10px;
            border-radius: 4px;
            text-transform: uppercase;
            font-size: 0.9rem;
            display: inline-block;
            width: 90%;
            transition: 0.3s;
        }

        .status-bet { background-color: #1b5e20; color: #44ff44; border: 2px solid #44ff44; }
        .status-no { background-color: #424242; color: #bbb; border: 2px solid #666; }
        .status-danger { background-color: #b71c1c; color: #ff8a80; border: 2px solid #ff8a80; }

        .btn-clear {
            margin-top: 15px;
            width: 100%;
            padding: 8px;
            background-color: transparent;
            color: #ff7675;
            border: 1px solid #ff7675;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.7rem;
            text-transform: uppercase;
        }

        .btn-clear:hover { background-color: #ff7675; color: white; }

        footer {
            margin-top: 40px;
            color: var(--texto-amarillo);
            font-size: 0.8rem;
            opacity: 0.6;
            text-align: center;
        }
    </style>
</head>
<body>

    <header>
        <h1>BETAGS - FILTRO DE VALOR 2026</h1>
        <div class="rules-bar">
            REGLAS: Edge (3% - 15%) | Edge > Overround | Overround ≤ 8%
        </div>
    </header>

    <div class="container">
        <div class="grid">
            
            <div class="card" id="cardOver">
                <h2>MERCADO: OVER (Goles)</h2>
                <div class="input-group">
                    <div>
                        <label>Cuota Over</label>
                        <input type="number" id="oddsOver" step="0.01" oninput="calc('Over')">
                    </div>
                    <div>
                        <label>Cuota Under (Contra)</label>
                        <input type="number" id="oddsUnderC" step="0.01" oninput="calc('Over')">
                    </div>
                    <div class="full-width">
                        <label>Tu Probabilidad Real para el OVER (%)</label>
                        <input type="number" id="probOver" step="0.1" oninput="calc('Over')">
                    </div>
                </div>
                <div class="results">
                    <div class="ovr-box">Overround: <span id="ovrOver">0.00%</span></div>
                    <div class="edge-box">Edge: <span id="edgeOver">0.00%</span></div>
                    <div id="recOver" class="recommendation status-no">Esperando datos...</div>
                </div>
                <button class="btn-clear" onclick="clearData('Over')">Limpiar datos</button>
            </div>

            <div class="card" id="cardUnder">
                <h2>MERCADO: UNDER (Goles)</h2>
                <div class="input-group">
                    <div>
                        <label>Cuota Under</label>
                        <input type="number" id="oddsUnder" step="0.01" oninput="calc('Under')">
                    </div>
                    <div>
                        <label>Cuota Over (Contra)</label>
                        <input type="number" id="oddsOverC" step="0.01" oninput="calc('Under')">
                    </div>
                    <div class="full-width">
                        <label>Tu Probabilidad Real para el UNDER (%)</label>
                        <input type="number" id="probUnder" step="0.1" oninput="calc('Under')">
                    </div>
                </div>
                <div class="results">
                    <div class="ovr-box">Overround: <span id="ovrUnder">0.00%</span></div>
                    <div class="edge-box">Edge: <span id="edgeUnder">0.00%</span></div>
                    <div id="recUnder" class="recommendation status-no">Esperando datos...</div>
                </div>
                <button class="btn-clear" onclick="clearData('Under')">Limpiar datos</button>
            </div>

            <div class="card" id="cardYes">
                <h2>MERCADO: BTTS - SÍ</h2>
                <div class="input-group">
                    <div>
                        <label>Cuota Sí</label>
                        <input type="number" id="oddsYes" step="0.01" oninput="calc('Yes')">
                    </div>
                    <div>
                        <label>Cuota No (Contra)</label>
                        <input type="number" id="oddsNoC" step="0.01" oninput="calc('Yes')">
                    </div>
                    <div class="full-width">
                        <label>Tu Probabilidad Real BTTS SÍ (%)</label>
                        <input type="number" id="probYes" step="0.1" oninput="calc('Yes')">
                    </div>
                </div>
                <div class="results">
                    <div class="ovr-box">Overround: <span id="ovrYes">0.00%</span></div>
                    <div class="edge-box">Edge: <span id="edgeYes">0.00%</span></div>
                    <div id="recYes" class="recommendation status-no">Esperando datos...</div>
                </div>
                <button class="btn-clear" onclick="clearData('Yes')">Limpiar datos</button>
            </div>

            <div class="card" id="cardNo">
                <h2>MERCADO: BTTS - NO</h2>
                <div class="input-group">
                    <div>
                        <label>Cuota No</label>
                        <input type="number" id="oddsNo" step="0.01" oninput="calc('No')">
                    </div>
                    <div>
                        <label>Cuota Sí (Contra)</label>
                        <input type="number" id="oddsYesC" step="0.01" oninput="calc('No')">
                    </div>
                    <div class="full-width">
                        <label>Tu Probabilidad Real BTTS NO (%)</label>
                        <input type="number" id="probNo" step="0.1" oninput="calc('No')">
                    </div>
                </div>
                <div class="results">
                    <div class="ovr-box">Overround: <span id="ovrNo">0.00%</span></div>
                    <div class="edge-box">Edge: <span id="edgeNo">0.00%</span></div>
                    <div id="recNo" class="recommendation status-no">Esperando datos...</div>
                </div>
                <button class="btn-clear" onclick="clearData('No')">Limpiar datos</button>
            </div>

        </div>
    </div>

    <footer>SISTEMA BETAGS ANALYTICS V2.0 - AGUASCALIENTES, MÉXICO</footer>

    <script>
        function calc(type) {
            let cuota, cuotaContra, probReal;

            if(type === 'Over') {
                cuota = parseFloat(document.getElementById('oddsOver').value);
                cuotaContra = parseFloat(document.getElementById('oddsUnderC').value);
                probReal = parseFloat(document.getElementById('probOver').value);
            } else if(type === 'Under') {
                cuota = parseFloat(document.getElementById('oddsUnder').value);
                cuotaContra = parseFloat(document.getElementById('oddsOverC').value);
                probReal = parseFloat(document.getElementById('probUnder').value);
            } else if(type === 'Yes') {
                cuota = parseFloat(document.getElementById('oddsYes').value);
                cuotaContra = parseFloat(document.getElementById('oddsNoC').value);
                probReal = parseFloat(document.getElementById('probYes').value);
            } else if(type === 'No') {
                cuota = parseFloat(document.getElementById('oddsNo').value);
                cuotaContra = parseFloat(document.getElementById('oddsYesC').value);
                probReal = parseFloat(document.getElementById('probNo').value);
            }

            if (!cuota || !cuotaContra || !probReal) return;

            // Cálculos
            const overround = ((1/cuota) + (1/cuotaContra) - 1) * 100;
            const edge = ((cuota * (probReal / 100)) - 1) * 100;

            const edgeEl = document.getElementById('edge' + type);
            const ovrEl = document.getElementById('ovr' + type);
            const recEl = document.getElementById('rec' + type);

            edgeEl.innerText = edge.toFixed(2) + "%";
            ovrEl.innerText = overround.toFixed(2) + "%";

            // Lógica de validación de Reglas
            const ruleEdgeRange = (edge >= 3 && edge <= 15);
            const ruleEdgeVsOvr = (edge > overround);
            const ruleOvrLimit = (overround <= 8);

            if (ruleEdgeRange && ruleEdgeVsOvr && ruleOvrLimit) {
                recEl.innerText = "✓ APUESTA RENTABLE";
                recEl.className = "recommendation status-bet";
                edgeEl.style.color = "#44ff44";
            } else if (edge <= 0) {
                recEl.innerText = "✗ SIN VALOR (EDGE NEGATIVO)";
                recEl.className = "recommendation status-no";
                edgeEl.style.color = "#ff4444";
            } else {
                recEl.innerText = "⚠ NO CUMPLE REGLAS DE SEGURIDAD";
                recEl.className = "recommendation status-danger";
                edgeEl.style.color = "#ffdf1b";
            }
        }

        function clearData(type) {
            if(type === 'Over') {
                document.getElementById('oddsOver').value = '';
                document.getElementById('oddsUnderC').value = '';
                document.getElementById('probOver').value = '';
            } else if(type === 'Under') {
                document.getElementById('oddsUnder').value = '';
                document.getElementById('oddsOverC').value = '';
                document.getElementById('probUnder').value = '';
            } else if(type === 'Yes') {
                document.getElementById('oddsYes').value = '';
                document.getElementById('oddsNoC').value = '';
                document.getElementById('probYes').value = '';
            } else if(type === 'No') {
                document.getElementById('oddsNo').value = '';
                document.getElementById('oddsYesC').value = '';
                document.getElementById('probNo').value = '';
            }
            
            document.getElementById('edge' + type).innerText = '0.00%';
            document.getElementById('ovr' + type).innerText = '0.00%';
            document.getElementById('edge' + type).style.color = 'white';
            const rec = document.getElementById('rec' + type);
            rec.innerText = 'Esperando datos...';
            rec.className = 'recommendation status-no';
        }
    </script>
</body>
</html>
