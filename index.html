<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Apuestas Pro</title>
    <style>
        /* Estilos CSS para el dise침o "ching칩n" */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #121212;
            color: #E0E0E0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .calculator-container {
            background-color: #1E1E1E;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 400px;
            border: 1px solid #333;
        }

        h1 {
            color: #00FF99;
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.8em;
            border-bottom: 2px solid #00FF99;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #B0B0B0;
        }

        .input-group input[type="number"] {
            width: calc(100% - 20px);
            padding: 10px;
            border: 1px solid #333;
            border-radius: 8px;
            background-color: #2D2D2D;
            color: #E0E0E0;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .input-group input[type="number"]:focus {
            border-color: #00FF99;
            outline: none;
        }

        .input-group input[type="number"]::placeholder {
            color: #757575;
        }

        .button-calculate {
            width: 100%;
            padding: 12px;
            background-color: #00FF99;
            color: #121212;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
        }

        .button-calculate:hover {
            background-color: #00E68A;
        }

        .button-calculate:active {
            transform: scale(0.98);
        }

        .results {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #333;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .result-item span:first-child {
            font-weight: bold;
            color: #00FF99;
        }

        /* Colores din치micos para el EV */
        .ev-positive {
            color: #4CAF50; /* Verde para positivo */
            font-weight: bold;
        }

        .ev-negative {
            color: #F44336; /* Rojo para negativo */
            font-weight: bold;
        }

        .ev-neutral {
            color: #FFEB3B; /* Amarillo para neutro */
            font-weight: bold;
        }

        .overround-value {
            color: #64B5F6; /* Azul claro para el Overround */
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="calculator-container">
        <h1>游눯 Calculadora EV & Overround</h1>
        <div class="input-group">
            <label for="probabilidad">Probabilidad Estimada por Ti (%)</label>
            <input type="number" id="probabilidad" placeholder="Ej: 55" min="0" max="100" step="0.01">
        </div>

        <div class="input-group">
            <label for="cuota">Cuota de la Bookie (Decimal)</label>
            <input type="number" id="cuota" placeholder="Ej: 1.95" min="1.01" step="0.01">
        </div>

        <div class="input-group">
            <label for="apuesta">Cantidad a Apostar ($)</label>
            <input type="number" id="apuesta" placeholder="Ej: 10" min="1" step="1">
        </div>

        <button class="button-calculate" onclick="calcular()">
            Calcular EV y Overround
        </button>

        <div class="results">
            <div class="result-item">
                <span>Probabilidad Impl칤cita de la Bookie:</span>
                <span id="probabilidadBookie">-</span>
            </div>
            <div class="result-item">
                <span>Valor Esperado (EV):</span>
                <span id="evResult">-</span>
            </div>
            <div class="result-item">
                <span>Overround (Margen de la Bookie):</span>
                <span id="overroundResult" class="overround-value">-</span>
            </div>
        </div>
    </div>

    <script>
        // Script JavaScript para los c치lculos
        function calcular() {
            // 1. Obtener valores de los campos
            const probabilidadUsuario = parseFloat(document.getElementById('probabilidad').value) / 100;
            const cuota = parseFloat(document.getElementById('cuota').value);
            const apuesta = parseFloat(document.getElementById('apuesta').value);

            const probBookieDisplay = document.getElementById('probabilidadBookie');
            const evResultDisplay = document.getElementById('evResult');
            const overroundResultDisplay = document.getElementById('overroundResult');

            // 2. Validaci칩n de entradas
            if (isNaN(probabilidadUsuario) || isNaN(cuota) || isNaN(apuesta) || probabilidadUsuario <= 0 || probabilidadUsuario > 1 || cuota <= 1.0) {
                evResultDisplay.textContent = '춰Error!';
                evResultDisplay.className = 'ev-negative';
                probBookieDisplay.textContent = '-';
                overroundResultDisplay.textContent = '-';
                alert('Por favor, ingresa valores v치lidos: Probabilidad (1-100), Cuota (>1.0), Apuesta (>0).');
                return;
            }

            // --- C츼LCULO DE VALOR ESPERADO (EV) ---
            // F칩rmula: EV = (Probabilidad de Ganar * Ganancia Neta) - (Probabilidad de Perder * Apuesta)
            // Donde:
            // - Probabilidad de Ganar es la estimada por el usuario.
            // - Ganancia Neta = (Cuota - 1) * Apuesta
            // - Probabilidad de Perder = 1 - Probabilidad de Ganar

            const gananciaNeta = (cuota - 1) * apuesta;
            const probabilidadPerder = 1 - probabilidadUsuario;

            const ev = (probabilidadUsuario * gananciaNeta) - (probabilidadPerder * apuesta);

            // --- C츼LCULO DE PROBABILIDAD IMPL칈CITA DE LA BOOKIE ---
            // F칩rmula: P = 1 / Cuota
            const probabilidadBookieDecimal = 1 / cuota;
            const probabilidadBookiePorcentaje = probabilidadBookieDecimal * 100;

            // --- C츼LCULO DE OVERROUND (Margen) ---
            // Para una apuesta de 2 resultados (Overround = (1/Cuota1 + 1/Cuota2) - 1).
            // Para un solo resultado, es la diferencia entre tu prob. y la de la bookie.
            // La f칩rmula del Overround general se aplica a *todos* los resultados de un mercado.
            // Aqu칤 te muestro la *Probabilidad Impl칤cita* de un solo resultado.
            // La casa de apuestas siempre gana si la SUMA de las probabilidades impl칤citas de TODOS los resultados es > 100%.
            // Overround para *este* resultado: (1 / cuota) - Probabilidad Estimada
            // Lo m치s com칰n es calcular el margen de la casa de apuestas (Overround) como el exceso de 100% de la suma de todas las P impl칤citas.
            // Aqu칤, te dar칠 la P impl칤cita para que sepas el "valor" de tu apuesta (diferencia entre tu P y la de la bookie).
            // Y te calcular칠 el Overround asumiendo una apuesta de 2 resultados (win/not win) con la cuota inversa para el "not win".
            
            // Para ser rigurosos, el Overround requiere todas las cuotas del mercado.
            // Asumiremos un mercado de 2 resultados (Resultado A: Cuota 'cuota', Resultado No-A: Cuota 'cuotaContraria').
            // Por simplicidad, s칩lo mostraremos la Probabilidad Impl칤cita de la Bookie.
            // NOTA: El c치lculo de Overround de un solo resultado no es est치ndar, pero la P. Impl칤cita S칈 es clave.

            const overround = (probabilidadBookieDecimal - probabilidadUsuario) * -1; // Margen entre nuestra prob y la bookie. Positivo = Valor.

            // 3. Mostrar resultados
            
            // EV
            let evClass = 'ev-neutral';
            if (ev > 0.01) {
                evClass = 'ev-positive';
            } else if (ev < -0.01) {
                evClass = 'ev-negative';
            }

            evResultDisplay.textContent = `${ev.toFixed(2)} $`;
            evResultDisplay.className = evClass;

            // Probabilidad Impl칤cita
            probBookieDisplay.textContent = `${probabilidadBookiePorcentaje.toFixed(2)} %`;

            // Overround (Se mostrar치 el valor en % de la diferencia entre tu P y la P impl칤cita)
            // Si es positivo, tienes valor. Si es negativo, la cuota es baja.
            // El Overround *est치ndar* de la bookie es 1/Cuota + 1/CuotaContraria - 1. Aqu칤 mostramos el valor para tu apuesta.
            const valorPorcentaje = ((probabilidadUsuario - probabilidadBookieDecimal) * 100).toFixed(2);
            overroundResultDisplay.textContent = `${valorPorcentaje} %`;
            
            if (parseFloat(valorPorcentaje) > 0) {
                overroundResultDisplay.className = 'ev-positive';
            } else if (parseFloat(valorPorcentaje) < 0) {
                overroundResultDisplay.className = 'ev-negative';
            } else {
                overroundResultDisplay.className = 'ev-neutral';
            }

        }
    </script>
</body>
</html>
